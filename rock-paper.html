<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    
    <title> Rock Paper Scissor </title>
</head>
<body>
        <div class="container">
            <h1 style="text-align: center;"> ROCK PAPER SCISSORS </h1>
            <button class="image-button" onclick="pickGame('Rock')"> <img class="image" src="/static/1.png"> </button>
            <button class="image-button" onclick="pickGame('Paper')"> <img class="image" src="/static/2.png"> </button>
            <button class="image-button" onclick="pickGame('Scissors')"> <img class="image" src="/static/3.png"> </button>
    
            
            <div class="score">
                <p class="option"> Wins: <span class="options" id="winScore">0</span></p>
                <p class="option"> Loses: <span class="options" id="loseScore">0</span></p>
                <p class="option"> Ties: <span class="options" id="tieScore">0</span></p>
            </div> 
            <div class="resets">
                <button class="reset"  onclick ="resetScores()">Reset Scores</button>

            </div>           
           
        </div>

    <script>
    let scores = {
        win: 0,
        lose: 0,
        ties: 0
    };

    function updateScores() {
        document.getElementById('winScore').textContent = scores.win;
        document.getElementById('loseScore').textContent = scores.lose;
        document.getElementById('tieScore').textContent = scores.ties;
    }

    function resetScores() {
        scores = {
            win: 0,
            lose: 0,
            ties: 0
        };
        updateScores();
    }

    // Function to save the scores in local storage
    function saveScores() {
        localStorage.setItem('scores', JSON.stringify(scores));
    }

    // Function to load the scores from local storage
    function loadScores() {
        const storedScores = localStorage.getItem('scores');
        if (storedScores) {
            scores = JSON.parse(storedScores);
        }
        updateScores();
    }

    // Call loadScores to load scores when the page loads
    loadScores();


    function pickGame(bet){
        const random = Math.random();

        let move = '';


        if ( random >= 0 && random < 1 / 3 ){
            move = 'Rock';
        }
        else if (random >= 1 / 3 && random < 2 / 3){
            move = 'Paper';
        }
        else if (random >= 2 / 3 && random < 1 ) {
            move = 'Scissors'
        }

        

        let result = '';

        if (move == bet){
            scores.ties += 1;
            result = 'Tie';
        }
        else if ( 
            (bet === 'Rock' && move === 'Scissors') ||
            (bet === 'Paper' && move === 'Rock') ||
            (bet  === 'Scissors' && move === 'Paper')){
            scores.win += 1;
            result = 'You win!'

        }
        else {
            scores.lose += 1;
            result = 'You lose!';
        }

        
        // Update scores, save in local storage, and show alert
        updateScores();
        saveScores();
        alert(`${bet} VS ${move} = ${result}`);
    }
    </script>
</body>
</html>